<html>

<head>
  <meta charset="utf8">
  <link rel="stylesheet" href="lib/reveal.js/css/reveal.css">
  <link rel="stylesheet" href="lib/reveal.js/css/theme/white.css">
  <link rel="stylesheet" href="presentation.css">
  <script src="lib/reveal.js/js/reveal.js"></script>
  <script src="lib/jquery.min.js"></script>
</head>

<body>
  <div class="reveal">
    <header><span>Community Survey</span>
      <time>2016</time>
    </header>
    <div class="slides">
      <section id="first">
        <img src="assets/slider_rdp.png">
      </section>
      
      <section>
        <video width="100%" height="100%" src="assets/videos/statssa.mov" data-autoplay></video>
      </section>
      
      <section>
        <h1>Where do we come from?</h1>
      </section>

      <section>
        <video width="100%" height="100%" src="assets/videos/verwoerd.mov" data-autoplay></video>
      </section>
      
      <section>
        <h2>Soweto uprising</h2>
        <video width="40%" src="assets/videos/soweto.mp4" data-autoplay muted style="height: 60%; width: auto; vertical-align: bottom; margin-right: 10%">></video>
        <img src="assets/soweto.jpg" style="height: 60%; width: auto; vertical-align: bottom; margin-bottom: 0;">
      </section>
      
      <section>
          <h1>1994</h1>The RDP promise</section>
      
      <section>
        <video width="100%" height="100%" src="assets/videos/mandela.mov" data-autoplay></video>
      </section>
      
      
      <section>
        <iframe style="height: 100%;" data-src="slides/population_2016.html"></iframe>
      </section>
      
      <section>
        <h3>Municipal growth</h3>
        <iframe class="withHeader" data-src="slides/vizabi-cartogram-municipality.html?unlockafterplay=true"></iframe>
      </section>
      
      <section data-transition="fade">
        <iframe style="height: 100%;" data-src="slides/migration-map-national-globe.html"></iframe>
      </section>
      
      <section data-transition="fade">
        <iframe style="height: 100%;" data-src="slides/migration-map-provinces.html"></iframe>
      </section>
      
      <section data-transition="fade">
        <iframe style="height: 100%;" data-src="slides/migration-map-municipalities.html"></iframe>
      </section>
      
      <section>
        <h3>Progress of South African provinces</h3>
        <iframe class="withHeader" data-src="slides/vizabi-bubbles-wealthhealth.html?source=--morudu"></iframe>
      </section>

      <section>
        <h3>Life expectancy in South African provinces</h3>
        <iframe class="withHeader" data-src="slides/vizabi-bubbles-wealthhealth_life_expectancy.html"></iframe>
      </section>

      <section>
        <h1>Municipal services and challenges</h1>
      </section>

      <section>
        <iframe data-src="slides/vizabi-choropleth-services.html?which=water_access_percentage"></iframe>
      </section>

      <section>
          <iframe class="bubble" data-src="slides/vizabi-bubbles-service_satisfaction.html?which=water"></iframe>
      </section>
      
      <section>
        <iframe data-src="slides/vizabi-choropleth-services.html?which=electricity_access_percentage"></iframe>
      </section>

      <section>
          <iframe class="bubble" data-src="slides/vizabi-bubbles-service_satisfaction.html?which=electricity"></iframe>
      </section>
      
      <section>
        <h3>Perceived municipal challenges</h3>
        <iframe class="withHeader" data-src="slides/vizabi-choropleth-challenge-ranks.html?which=ch1"></iframe>
      </section>
      
      <section>
        <h3>Perceived municipal challenges</h3>
        <iframe class="withHeader" data-src="slides/vizabi-choropleth-challenge-ranks.html?which=ch10"></iframe>
      </section>
      
      <section>
        <h3>Perceived municipal challenges</h3>
        <iframe class="withHeader" data-src="slides/vizabi-choropleth-challenge-ranks.html?which=ch4"></iframe>
      </section>
      
      
      <section>
          <h3>Poverty by municipalities</h3>
        <iframe class="withHeader" data-src="slides/vizabi-bubbles-sampi.html"></iframe>
      </section>
      
      <section>
          <h3>Poverty by SAMPI progress-groups</h3>
        <iframe class="withHeader" data-src="slides/vizabi-bubbles-sampi.html?color=sampi_progress_group&year=2011"></iframe>
      </section>
      
      <section>
          <h3>Poverty in accelerated rural development nodes</h3>
        <iframe class="withHeader" data-src="slides/vizabi-bubbles-sampi.html?geo=district&year=2011&select=212,213,214,215,419,521,522,523,554,832,933,543,244,345,947,105"></iframe>
      </section>

      <section>
        <iframe data-src="slides/barchart-povertydrivers.html"></iframe>
      </section>
     
      <section>
        Does the nation see education as a challenge?</section>

      <section>
        <h3>Perceived municipal challenges</h3>
        <iframe class="withHeader" data-src="slides/vizabi-choropleth-challenge-ranks.html?which=ch11"></iframe>
      </section>
      
      
      <section>
        <h1>Youth and the RDP promise</h1>
      </section>
      
      <section>
        <iframe style="width: 70%;" data-src="slides/vizabi-line-unemployment.html"></iframe>
      </section>

      <section>
          <h3>Graduate unemployment</h3>
         <iframe data-src="slides/barchart-employment.html"></iframe>
      </section>

      <section>
        <h3>Marriage and childbearing</h3>
          <iframe class="withHeader bubble" data-src="slides/vizabi-bubbles-smam.html"></iframe>
      </section>
      
      
      <section>
        <h3>Age distribution</h3>
        <iframe class="withHeader" style="width: 70%;" data-src="slides/vizabi-agepyramid-youth.html"></iframe>
      </section>

      <section>
        <iframe style="width: 70%;" data-src="slides/vizabi-line-education_timeplot.html"></iframe>
      </section>
      
      <section>
        <h3>Educational attainment</h3>
        <iframe class="withHeader" data-src="slides/vizabi-agepyramid-education.html"></iframe>
      </section>
      
      <section>
        <h3>Educational attainment: by gender</h3>
        <iframe class="withHeader" data-src="slides/vizabi-agepyramid-education-gender.html"></iframe>
      </section>
      
      <section>
        <h3>Educational attainment: by Population group</h3>
        <iframe class="withHeader" data-src="slides/vizabi-agepyramid-education-population-group.html?inpercent=true"></iframe>
      </section>
      
      <section>
        <h3>Absolute numbers</h3>
        <iframe class="withHeader" data-src="slides/vizabi-agepyramid-education-population-group.html?"></iframe>
      </section>
          
      <section>
        <h3>Population group differences</h3>
        <iframe class="withHeader" data-src="slides/vizabi-agepyramid-education-population-group.html?inpercent=true"></iframe>
      </section>
              
      <section>
        <h3>Educational attainment</h3>
        <iframe class="withHeader" data-src="slides/vizabi-agepyramid-education.html?year=2016&timeslider=false"></iframe>
      </section>
      
      <section>
        <video width="100%" height="100%" src="assets/videos/lerato.mov" data-autoplay></video>
      </section>
      <section>
        <img src="assets/sitescreenshot.jpg" style="height: 74vh; width: auto; margin: 3vh; display: inline-block; vertical-align: middle;">
        <h3 style="display: inline-block; vertical-alignment: middle;">Visit our website and explore the data yourself!<br><br>
        <a href="#">http://website.gov.za</a></h3>
      </section>
    </div>
    <footer>
      <div id="bar"></div>
      <img src="assets/statssalogosolo.png">
      <p>The South Africa I know, the home I understand</p>
    </footer>
  </div>
  <script>
  Reveal.initialize({
    // Display control arrows in the bottom right corner
    controls: true,
    // Number of slides away from the current that are visible (loaded). Default: 3
    //viewDistance: 3,
    // The "normal" size of the presentation, aspect ratio will be preserved
    // when the presentation is scaled to fit different resolutions. Can be
    // specified using percentage units.
    width: "100%",
    height: "80%",

    // Factor of the display size that should remain empty around the content (default 0.1)
    margin: 0.0,

    // Bounds for smallest/largest possible scale to apply to content
    minScale: 0.2,
    maxScale: 2
  });

  Reveal.configure({
  keyboard: {
    32: function(event) { 
      var $iframe = $("section.present iframe");
      if ($iframe.length && $iframe.get()[0].contentWindow.handleKeyPress) {
        $iframe.get()[0].contentWindow.handleKeyPress(event);
      }
    } , // don't do anything when SPACE is pressed (i.e. disable a reveal.js default binding)
    13: Reveal.next
  }
});

  Reveal.addEventListener('slidechanged', function(event) {
    // event.previousSlide, event.currentSlide, event.indexh, event.indexv
    history.pushState({
      slide: event.indexh
    }, "#slide" + event.indexh, "#slide" + event.indexh);

    //blur is needed to unfocus the iframe on the previous slide, otherwise the focus ges stuck in it
    document.activeElement.blur();
  });

  if (window.location.hash) Reveal.slide(+window.location.hash.replace("#slide", ""));
  window.addEventListener('popstate', function() {
    Reveal.slide(+window.location.hash.replace("#slide", ""));
  });

  //this function is called by internal iframes
  function keyCode(event) {
    if (event.srcElement.nodeName === "INPUT") return;
    switch (event.which || event.keyCode) {
      case 32:
        //Reveal.next();
        break; //space
      case 39:
        Reveal.next();
        break; //arrow-right
      case 37:
        Reveal.prev();
        break; //arrow-left
    }
  };
    
  function getParamValue(paramName, context){
    var win = context? context : window;
    var url = win.location.search.substring(1); //get rid of "?" in querystring
    var qArray = url.split('&'); //get key-value pairs
    for (var i = 0; i < qArray.length; i++) {
      var pArr = qArray[i].split('='); //split key and value
      if (pArr[0] == paramName) return pArr[1]; //return value
    }
  }
  </script>
</body>

</html>