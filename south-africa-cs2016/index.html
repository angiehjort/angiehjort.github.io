<html>

<head>
  <meta charset="utf8">
  <link rel="stylesheet" href="lib/reveal.js/css/reveal.css">
  <link rel="stylesheet" href="lib/reveal.js/css/theme/white.css">
  <link rel="stylesheet" href="presentation.css">
  <script src="lib/reveal.js/js/reveal.js"></script>
</head>

<body>
  <div class="reveal">
    <header><span>Community Survey</span>
      <time>2016</time>
    </header>
    <div class="slides">
      <section id="first">
        <img src="assets/slider_rdp.png">
      </section>
      
      <section>
        <video width="100%" height="100%" src="assets/videos/stats sa progress.mov" data-autoplay></video>
      </section>
      
      <section>
        <h1>Where we come from</h1>
      </section>

      <section>
        <video width="100%" height="100%" src="assets/videos/04 verwoerd animation.mov" data-autoplay></video>
      </section>
      
      <section>
        <h3>soweto uprising</h3>
        <video width="40%" src="assets/videos/1976 soweto uprising.mp4" data-autoplay muted style="height: 60%; width: auto; vertical-align: bottom; margin-right: 10%">></video>
        <img src="assets/soweto.jpg" style="height: 60%; width: auto; vertical-align: bottom; margin-bottom: 0;">
      </section>
      
      <section>
          <h1>1994</h1>The RDP promise</section>
      
      <section>
        <video width="100%" height="100%" src="assets/videos/07 nelson mandela animation fin +snd.mov" data-autoplay></video>
      </section>
      
      
      <section>
        <iframe style="height: 100%;" data-src="slides/population_2016.html"></iframe>
      </section>
      
      <section>
        <div class="caption">
          <h3>Municipal growth</h3></div>
        <iframe height="80%" data-src="slides/vizabi-cartogram-municipality.html"></iframe>
      </section>
      
      <section>
        <div class="caption">
          <h3>High growth municipalities</h3></div>
        <iframe height="80%" data-src="slides/vizabi-cartogram-municipality.html?select=179,967,172,362,979,596,570,761,869,164,662"></iframe>
      </section>
      
      <section>
        <div class="caption">
          <h3>Migration between provinces</h3></div>
        <iframe data-src="slides/migration-map-provinces.html"></iframe>
      </section>
      
      <section>
        <div class="caption">
          <h3>Emmigration-immigration</h3>
          same map with 2 arrows, in and out</div>
      </section>
      
      <section>
          <h3>Progress of South Africa</h3>
        <iframe data-src="slides/vizabi-bubbles-wealthhealth.html"></iframe>
      </section>
      
      <section>
          <h3>Progress of South Africa</h3>
        <iframe data-src="slides/vizabi-bubbles-wealthhealth.html"></iframe>
      </section>
      
      
      <section>
        <h1>Municipal services and challenges</h1></section>

      <section>
        <iframe style="height:100%;" data-src="slides/vizabi-choropleth-services.html?which=water_access_percentage"></iframe>
      </section>

      <section>
        <div class="caption">
          <h3>Water access satisfaction</h3> </div>
          <iframe style="height:100%;" data-src="slides/vizabi-bubbles-service_satisfaction.html?which=water"></iframe>
      </section>
      
      <section>
        <iframe style="height:100%;" data-src="slides/vizabi-choropleth-services.html?which=electricity_access_percentage"></iframe>
      </section>

      <section>
        <div class="caption">
          <h3>Electricity access satisfaction</h3> </div>
          <iframe style="height:100%;" data-src="slides/vizabi-bubbles-service_satisfaction.html?which=electricity"></iframe>
      </section>
      
      <section>
        <iframe style="height:100%;" data-src="slides/vizabi-choropleth-services.html?which=refuse_removal_percentage"></iframe>
      </section>

      <section>
        <div class="caption">
          <h3>Toilet facility satisfaction</h3> </div>
          <iframe style="height:80%;" data-src="slides/vizabi-bubbles-service_satisfaction.html?which=sanitation"></iframe>
      </section>
      
      <section>
        <iframe style="height:100%;" data-src="slides/vizabi-choropleth-services.html?which=sanitation_access_percentage&start_time=2001"></iframe>
      </section>

      <section>
        <div class="caption">
          <h3>Refuse removal satisfaction</h3> </div>
          <iframe style="height:90%;" data-src="slides/vizabi-bubbles-service_satisfaction.html?which=refuse_removal"></iframe>
      </section>
      
      <section>
        <div class="caption">
          <h3>Municipal challenges: Water supply</h3> </div>
        <iframe data-src="slides/vizabi-choropleth-challenge-ranks.html?which=ch1"></iframe>
      </section>
      
      <section>
        <div class="caption">
          <h3>Municipal challenges: Unemployment</h3> </div>
        <iframe data-src="slides/vizabi-choropleth-challenge-ranks.html?which=ch10"></iframe>
      </section>
      
      <section>
        <div class="caption">
          <h3>Municipal challenges: Electricity cost</h3> </div>
        <iframe data-src="slides/vizabi-choropleth-challenge-ranks.html?which=ch4"></iframe>
      </section>
      
      
      <section>
        <div class="caption">
          <h3>Poverty by municipalities</h3></div>
        <iframe data-src="slides/vizabi-bubbles-sampi.html"></iframe>
      </section>
      
      <section>
        <iframe style="height:100%;" data-src="slides/barchart-povertydrivers.html"></iframe>
      </section>
     
      <section>
        Does the nation see education as a challenge?</section>

      <section>
        <div class="caption">
          <h3>Municipal challenges: education</h3> </div>
        <iframe data-src="slides/vizabi-choropleth-challenge-ranks.html?which=ch11"></iframe>
      </section>
      
      
      <section>
        <h1>Youth and the RDP promise</h1></section>
      
      <section>
          <h3>Age distribution</h3>
        <iframe style="width: 70%; height: 80%;" data-src="slides/vizabi-agepyramid-youth.html"></iframe>
      </section>
      
      <section>
        <h3>Educational attainment</h3>
        <iframe style="width: 90%; height: 80%;" data-src="slides/vizabi-agepyramid-education.html"></iframe>
      </section>
      
      <section>
          <h3>Gender differences</h3>
          <iframe style="width: 90%; height: 88%;" data-src="slides/vizabi-agepyramid-education-gender.html"></iframe>
      </section>
      
      <section>
          <h3>Population group differences</h3>
          <iframe style="width: 90%; height: 88%;" data-src="slides/vizabi-agepyramid-education-population-group.html?inpercent=true"></iframe>
      </section>
      
      <section>
          <h3>Absolute numbers</h3>
          <iframe style="width: 90%; height: 88%;" data-src="slides/vizabi-agepyramid-education-population-group.html?"></iframe>
      </section>
      
      <section>
        Lerato Movie
      </section>
      <section>
        Call to action: look on the website to explore the data yourself!
      </section>
    </div>
    <footer>
      <div id="bar"></div>
      <img src="assets/statssalogosolo.png">
      <p>The South Africa I know, the home I understand</p>
    </footer>
  </div>
  <script>
  Reveal.initialize({
    // Display control arrows in the bottom right corner
    controls: true,
    // Number of slides away from the current that are visible (loaded). Default: 3
    //viewDistance: 3,
    // The "normal" size of the presentation, aspect ratio will be preserved
    // when the presentation is scaled to fit different resolutions. Can be
    // specified using percentage units.
    width: "100%",
    height: "80%",

    // Factor of the display size that should remain empty around the content (default 0.1)
    margin: 0.0,

    // Bounds for smallest/largest possible scale to apply to content
    minScale: 0.2,
    maxScale: 2
  });

  Reveal.addEventListener('slidechanged', function(event) {
    // event.previousSlide, event.currentSlide, event.indexh, event.indexv
    history.pushState({
      slide: event.indexh
    }, "#slide" + event.indexh, "#slide" + event.indexh);

    //blur is needed to unfocus the iframe on the previous slide, otherwise the focus ges stuck in it
    document.activeElement.blur();
  });

  if (window.location.hash) Reveal.slide(+window.location.hash.replace("#slide", ""));
  window.addEventListener('popstate', function() {
    Reveal.slide(+window.location.hash.replace("#slide", ""));
  });

  //this function is called by internal iframes
  function keyCode(event) {
    if (event.srcElement.nodeName === "INPUT") return;
    switch (event.which || event.keyCode) {
      case 32:
        Reveal.next();
        break; //space
      case 39:
        Reveal.next();
        break; //arrow-right
      case 37:
        Reveal.prev();
        break; //arrow-left
    }
  };
    
  function getParamValue(paramName, context){
    var win = context? context : window;
    var url = win.location.search.substring(1); //get rid of "?" in querystring
    var qArray = url.split('&'); //get key-value pairs
    for (var i = 0; i < qArray.length; i++) {
      var pArr = qArray[i].split('='); //split key and value
      if (pArr[0] == paramName) return pArr[1]; //return value
    }
  }
  </script>
</body>

</html>