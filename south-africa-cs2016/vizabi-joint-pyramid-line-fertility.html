<html>

<head>
  <link rel="stylesheet" href="lib/vizabi/build/dist/vizabi.css">
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="lib/vizabi/build/dist/vizabi.js"></script>
</head>

<body onkeyup="parent.keyCode(event)">
  <div id='placeholder' style='position: absolute; top: 0; bottom: 0; left: 0; right: 0; height: 100%; width: 100%;'></div>
  <script>
  var locationArray = window.location.href.split("/");
  var localUrl = locationArray.splice(0, locationArray.indexOf("preview")).join("/") + "preview/";

  Vizabi._globals.ext_resources = {
    host: localUrl,
    preloadPath: 'data/zaf/',
    dataPath: 'data/zaf/waffles/',
    conceptpropsPath: localUrl + 'data/zaf/metadata.json'
  };


  Vizabi('JOINTPyramidLine', document.getElementById('placeholder'), {
    data: {
      reader: "csv",
      path: "preview/data/ddf--datapoints--population--by--year--age--education-gender-add-tfr.csv",
      splash: false
    },
    ui: {
      chart: {
        labels: {
          min_number_of_entities_when_values_hide: 2 //values hide when showing 2 entities or more
        },
        whenHovering: {
          hideVerticalNow: false,
          showProjectionLineX: true,
          showProjectionLineY: true,
          higlightValueX: true,
          higlightValueY: true,
          showTooltip: false
        }
      },
      stacked: true,
      presentation: false,
      buttons: [],
      dialogs: {
        'popup': [],
        'sidebar': [],
        'moreoptions': []
      }
    }
  });
  </script>
</body>

</html>