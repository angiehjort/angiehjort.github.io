<html>
<head>
    <script src='d3.v3.min.js'></script>
</head>

    <style>

        .axis text{
            font-size: 42px;
            font-family: Arial;
        }

        .axis path{
            fill: green;

        }

    </style>

<body>
	<script type="text/javascript">
        var width = 500;

        var dataArray =[[5, 40, 50, 60, 51],
                        [5, 45, 75, 10],
                        [5, 42, 76, 60, 52]]

        var canvas = d3.select("body")
            .append("svg")
            .attr("width", width)
            .attr("height", 500);

        var index = 0;

        setInterval(function(){

        var x = d3.scale.linear()
            .domain([0, d3.max(dataArray[index])])
            .range([0, width]);

        var color = d3.scale.linear()
            .domain([0, d3.max(dataArray[index])])
            .range(["red", "blue"]);

        var xAxis = d3.svg.axis().scale(x)
            .orient("bottom").ticks(8);

            //.orient("bottom").ticks(8).tickFormat(d3.time.format("%e.%m"));

        canvas.selectAll(".axis")
            .data([null])
            .enter().append("g")
            .attr("transform","translate(0, 400)")
            .attr("class","axis");

        canvas.selectAll(".axis")
            .call(xAxis);

        canvas.selectAll("rect")
            .data(dataArray[index])
            .enter().append("rect");

        canvas.selectAll("rect")
            .data(dataArray[index])
            .transition().duration(500)
            .attr("width", function(d){return x(d)})
            .attr("height", 20)
            .attr("x", 0)
            .attr("y", function(d,i){return i*50})
            .attr("fill", function(d){return color(d)});

        canvas.selectAll("rect")
            .data(dataArray[index])
            .exit().remove();

        index++; if(index==dataArray.length) index = 0;
        },1000);

    </script>
</body>

</html>
